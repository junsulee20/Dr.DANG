# Dr. DANG 프론트엔드 개발자 인수인계 문서

**담당 개발자: 프론트엔드 개발자**

## 📋 프로젝트 개요

**Dr. DANG**은 사진 한 장으로 당뇨 관리를 지원하는 모바일 앱입니다.  
React Native (Expo Router)를 사용하여 iOS와 Android를 동시에 지원합니다.

---

## 🛠 기술 스택

- **Framework**: React Native (Expo)
- **Router**: Expo Router (File-based routing)
- **Language**: TypeScript
- **UI Components**: React Native 기본 컴포넌트 + Ionicons
- **Charts**: react-native-svg (레이더 차트용)
- **Image Picker**: expo-image-picker
- **Calendar**: react-native-calendars

---

## 📁 프로젝트 구조

```
app/
├── _layout.tsx              # 루트 레이아웃 (Stack Navigator)
├── index.tsx                # 시작 페이지 (로그인으로 리다이렉트)
├── login.tsx                # 로그인 페이지
├── (tabs)/                  # 탭 네비게이션 그룹
│   ├── _layout.tsx         # 탭 레이아웃
│   ├── foodshot.tsx        # 푸드샷 (메인 화면)
│   ├── loading.tsx          # 검사 중 화면
│   ├── result.tsx           # 결과 화면
│   ├── record.tsx           # 기록 화면
│   └── mypage.tsx           # 마이페이지
└── assets/
    └── images/
        └── logo.png         # 앱 로고
```

---

## 🎯 주요 기능 및 구현 상태

### ✅ 완료된 기능

1. **로고 통합**
   - 모든 페이지 헤더에 로고 이미지 적용 완료
   - 탭 네비게이션 바의 푸드샷 버튼에 로고 적용 완료

2. **네비게이션 구조**
   - 탭 네비게이션 바 구현 완료
   - 검사/결과 페이지를 일반 화면으로 변경 (팝업 형식 제거)

3. **기본 UI 구현**
   - 로그인 페이지
   - 푸드샷 (카메라/갤러리 선택)
   - 검사 중 화면
   - 결과 화면 (기본 구조)
   - 기록 화면 (캘린더)
   - 마이페이지

---

## 📝 주요 작업 항목

### Phase 1: 상세 영양정보 그래프 수정 ⭐

**현재 상태:**
- 기본 레이더 차트 (펜타곤) 구현됨
- SVG를 사용한 간단한 차트
- 점수 계산 로직이 하드코딩되어 있음

**개선 필요 사항:**

#### 1.1 레이더 차트 시각화 개선
- [ ] **점수에 따른 색상 그라데이션 적용**
  - 좋음 (80-100점): 초록색 계열
  - 보통 (50-79점): 주황색 계열
  - 나쁨 (0-49점): 빨간색 계열
- [ ] **애니메이션 효과 추가**
  - 차트 로드 시 페이드인 애니메이션
  - 점수에 따라 부드럽게 확장되는 효과
- [ ] **더 명확한 축 라벨 및 범례**
  - 각 축의 이름과 점수를 명확히 표시
  - 범례 추가 (점수 범위 설명)
- [ ] **그리드 라인 추가**
  - 중간 점수 라인 표시 (50점, 75점 등)
  - 더 읽기 쉬운 시각화

#### 1.2 차트 라이브러리 검토 및 선택
- [ ] **차트 라이브러리 비교**
  - `victory-native`: 기능이 풍부하지만 번들 크기가 큼
  - `react-native-chart-kit`: 가볍지만 커스터마이징 제한적
  - `react-native-svg` (현재): 가볍지만 직접 구현 필요
- [ ] **라이브러리 선택 및 도입**
  - 앱 크기와 성능을 고려한 선택
  - 필요 시 현재 SVG 구현 개선

#### 1.3 반응형 디자인
- [ ] **다양한 화면 크기 대응**
  - 작은 화면 (iPhone SE 등): 차트 크기 조정
  - 큰 화면 (iPad 등): 차트 여백 최적화
  - 가로/세로 모드 대응
- [ ] **터치 인터랙션**
  - 차트 영역 터치 시 상세 정보 표시
  - 핀치 줌 기능 (선택)

#### 1.4 데이터 시각화 다양화
- [ ] **탄단지 비율 파이 차트 추가**
  - 탄수화물, 단백질, 지방 비율을 원형 차트로 표시
  - 권장 비율과 비교 표시
- [ ] **영양소별 막대 그래프 추가**
  - 각 영양소의 실제 값과 권장 값 비교
  - 목표 달성률 표시

#### 1.5 접근성 개선
- [ ] **스크린 리더 지원**
  - 각 데이터 포인트에 접근성 라벨 추가
  - VoiceOver/TalkBack 지원
- [ ] **색상 대비 개선**
  - WCAG 기준 준수 (4.5:1 이상)
  - 색맹 사용자 고려 (패턴/텍스처 추가)

#### 1.6 구현 예시
```typescript
// 개선된 레이더 차트 컴포넌트 구조
<RadarChart
  data={radarScores}
  size={300}
  colors={{
    good: '#4CAF50',
    medium: '#FF9800',
    bad: '#FF3B30'
  }}
  animation={true}
  showGrid={true}
  showLabels={true}
  interactive={true}
/>

// 탄단지 비율 파이 차트
<PieChart
  data={[
    { name: '탄수화물', value: 67, color: '#FF6B35' },
    { name: '단백질', value: 20, color: '#4CAF50' },
    { name: '지방', value: 13, color: '#2196F3' }
  ]}
  recommendedRatio={{
    carbs: 50,
    protein: 30,
    fat: 20
  }}
/>
```

---

### Phase 2: iOS 배포 준비

#### 2.1 앱 아이콘 및 스플래시 스크린
- [ ] **앱 아이콘 생성**
  - 모든 iOS 아이콘 크기 생성 (1024x1024, 512x512 등)
  - `app.json`에 아이콘 경로 설정
  - 앱스토어 제출용 아이콘 준비
- [ ] **스플래시 스크린 설정**
  - iOS 스플래시 스크린 이미지 생성
  - `expo-splash-screen` 설정
  - 로딩 애니메이션 고려

#### 2.2 앱 정보 설정
- [ ] **app.json 설정**
  ```json
  {
    "expo": {
      "name": "Dr. DANG",
      "slug": "dr-dang",
      "version": "1.0.0",
      "orientation": "portrait",
      "icon": "./assets/icon.png",
      "splash": {
        "image": "./assets/splash.png",
        "resizeMode": "contain",
        "backgroundColor": "#FFFFFF"
      },
      "ios": {
        "bundleIdentifier": "com.drdang.app",
        "buildNumber": "1",
        "supportsTablet": true,
        "infoPlist": {
          "NSCameraUsageDescription": "음식 사진을 촬영하기 위해 카메라 권한이 필요합니다.",
          "NSPhotoLibraryUsageDescription": "갤러리에서 음식 사진을 선택하기 위해 권한이 필요합니다."
        }
      }
    }
  }
  ```
- [ ] **번들 식별자 설정**
  - 고유한 Bundle Identifier 생성
  - App Store Connect에 등록된 것과 일치 확인

#### 2.3 권한 설정
- [ ] **카메라 권한**
  - `Info.plist`에 `NSCameraUsageDescription` 추가 완료
  - 권한 요청 UI/UX 개선
- [ ] **갤러리 권한**
  - `NSPhotoLibraryUsageDescription` 추가 완료
  - 권한 거부 시 안내 메시지 표시
- [ ] **기타 권한 (필요 시)**
  - 알림 권한 (푸시 알림)
  - 위치 권한 (선택)

#### 2.4 빌드 설정
- [ ] **EAS Build 설정**
  - `eas.json` 파일 생성
  - iOS 프로덕션 빌드 프로필 설정
  ```json
  {
    "build": {
      "production": {
        "ios": {
          "buildConfiguration": "Release"
        }
      }
    }
  }
  ```
- [ ] **코드 사이닝**
  - Apple Developer 계정 설정
  - 인증서 및 프로비저닝 프로파일 준비
  - EAS가 자동으로 처리하지만, 수동 설정도 가능

#### 2.5 앱스토어 제출 준비
- [ ] **앱스토어 메타데이터 준비**
  - 앱 이름: "Dr. DANG"
  - 부제목: "사진 한 장으로, 당뇨 케어"
  - 설명: 앱 기능 및 사용법 설명
  - 키워드: 당뇨, 건강, 영양, 식단 관리
  - 카테고리: Health & Fitness
  - 연령 등급: 4+
- [ ] **스크린샷 준비**
  - iPhone 6.7" (iPhone 14 Pro Max): 1290 x 2796
  - iPhone 6.5" (iPhone 11 Pro Max): 1242 x 2688
  - iPhone 5.5" (iPhone 8 Plus): 1242 x 2208
  - 최소 3개 이상의 스크린샷 필요
- [ ] **앱 미리보기 영상 (선택)**
  - 15-30초 앱 소개 영상
  - 주요 기능 데모

#### 2.6 테스트 및 검증
- [ ] **iOS 시뮬레이터 테스트**
  - 다양한 iOS 버전 테스트 (iOS 13+)
  - 다양한 기기 크기 테스트
- [ ] **실기기 테스트**
  - TestFlight을 통한 베타 테스트
  - 다양한 기기에서 테스트 (iPhone SE, iPhone 14 등)
- [ ] **성능 테스트**
  - 앱 로딩 시간 측정
  - 메모리 사용량 확인
  - 배터리 소모 확인
- [ ] **앱스토어 가이드라인 준수 확인**
  - 콘텐츠 가이드라인 준수
  - 기술 요구사항 충족
  - 개인정보 보호 정책 준비

#### 2.7 빌드 및 제출 프로세스
- [ ] **EAS Build 실행**
  ```bash
  eas build --platform ios --profile production
  ```
- [ ] **빌드 확인**
  - EAS 대시보드에서 빌드 상태 확인
  - 다운로드 및 설치 테스트
- [ ] **App Store Connect 제출**
  ```bash
  eas submit --platform ios
  ```
- [ ] **제출 후 관리**
  - 앱스토어 리뷰 상태 확인
  - 리뷰 거부 시 대응
  - 업데이트 제출 준비

---

### Phase 3: UI/UX 개선

#### 3.1 결과 화면 개선
- [ ] **실제 API 데이터 연동**
  - 백엔드 API 응답 데이터 파싱
  - 데이터 타입 정의 및 검증
- [ ] **이미지 표시**
  - 업로드한 음식 사진 표시
  - 이미지 로딩 상태 처리
  - 이미지 최적화 (리사이징, 캐싱)
- [ ] **경고 메시지 동적 표시**
  - API에서 받은 경고 메시지 표시
  - 경고 레벨에 따른 색상 구분
- [ ] **액션 가이드 표시**
  - GPT가 생성한 식사 가이드 표시
  - 읽기 쉬운 형태로 포맷팅
- [ ] **결과 공유 기능**
  - iOS Share Sheet 연동
  - 이미지와 텍스트 공유
- [ ] **결과 저장 기능**
  - 로컬에 결과 저장
  - 기록 화면에서 확인 가능

#### 3.2 로딩 화면 개선
- [ ] **실제 API 호출 진행률 표시**
  - 백엔드 API 응답에 따른 진행률 업데이트
  - 단계별 진행 상황 표시 (이미지 업로드, 분석 중, 결과 생성)
- [ ] **에러 발생 시 재시도 버튼**
  - 네트워크 에러 처리
  - API 에러 처리
  - 사용자 친화적 에러 메시지
- [ ] **타임아웃 처리**
  - 30초 타임아웃 설정
  - 타임아웃 시 안내 메시지

#### 3.3 기록 화면 개선
- [ ] **날짜별 기록 상세 보기**
  - 기록 클릭 시 상세 화면 이동
  - 결과 화면 재사용
- [ ] **기록 편집/삭제 기능**
  - 기록 수정 기능
  - 기록 삭제 기능 (확인 다이얼로그)
- [ ] **통계 차트 (주간/월간)**
  - 주간 혈당 상승 평균
  - 월간 영양소 섭취 통계
  - 차트 라이브러리 활용
- [ ] **필터링 기능**
  - 아침/점심/저녁 필터
  - 날짜 범위 필터

#### 3.4 마이페이지 개선
- [ ] **프로필 이미지 업로드**
  - 이미지 선택 기능
  - 이미지 크롭 기능
  - 업로드 진행 상태 표시
- [ ] **설정 메뉴 구현**
  - 각 메뉴 항목 클릭 시 화면 이동
  - 공지사항, FAQ, 문의하기 등
- [ ] **알림 설정**
  - 푸시 알림 설정
  - 알림 시간 설정
- [ ] **약관 및 정책 페이지**
  - 이용약관 페이지
  - 개인정보 처리방침 페이지

---

### Phase 4: 성능 최적화 및 접근성

#### 4.1 성능 최적화
- [ ] **이미지 최적화**
  - 이미지 리사이징 (업로드 전)
  - 이미지 캐싱 (로컬 저장)
  - 지연 로딩 (Lazy Loading)
- [ ] **코드 최적화**
  - 불필요한 리렌더링 방지 (React.memo)
  - 컴포넌트 메모이제이션
  - 큰 리스트는 FlatList 사용
- [ ] **번들 크기 최적화**
  - 사용하지 않는 라이브러리 제거
  - 트리 쉐이킹 확인

#### 4.2 접근성 개선
- [ ] **스크린 리더 지원**
  - 모든 버튼과 입력 필드에 접근성 라벨 추가
  - VoiceOver/TalkBack 지원
- [ ] **키보드 네비게이션**
  - 키보드 탭 순서 최적화
  - 키보드 닫기 기능
- [ ] **색상 대비 개선**
  - WCAG 기준 준수 (4.5:1 이상)
  - 색맹 사용자 고려
- [ ] **폰트 크기 조절 기능**
  - 시스템 폰트 크기 준수
  - 큰 텍스트 모드 지원

---

## 🔧 개발 환경 설정

### 필수 패키지
```bash
npm install
# 또는
yarn install
```

### 주요 의존성
- `expo-router`: 파일 기반 라우팅
- `expo-image-picker`: 이미지 선택/촬영
- `react-native-svg`: SVG 차트
- `react-native-calendars`: 캘린더 컴포넌트
- `@react-navigation/native`: 네비게이션 (Expo Router 내장)

### 개발 서버 실행
```bash
npm start
# 또는
yarn start
```

### iOS 시뮬레이터 실행
```bash
npm run ios
# 또는
yarn ios
```

---

## 📱 주요 화면 플로우

```
[시작] → [로그인] → [푸드샷]
                            ↓
                      [카메라/갤러리]
                            ↓
                      [검사 중...]
                            ↓
                      [결과 화면]
                            ↓
                    [기록 저장 선택]
                            ↓
                    [기록 화면]
```

---

## 🎨 디자인 시스템

### 색상
- **Primary**: `#FF6B35`
- **Secondary**: `#FF3B30`
- **Background**: `#FFFFFF`
- **Text Primary**: `#333333`
- **Text Secondary**: `#666666`
- **Border**: `#E5E5E5`

### 타이포그래피
- **Header Title**: 24px, Bold
- **Body Text**: 16px, Regular
- **Subtitle**: 14px, Regular

---

## 🔗 백엔드 협업 포인트

### API 사용
- 백엔드가 제공하는 API 엔드포인트 사용
- JWT 토큰을 Authorization 헤더에 포함
- API 응답 형식은 백엔드 개발자와 협의

### 공유 필요 사항
- [ ] API Base URL 확정
- [ ] 인증 토큰 저장 방식 확인 (AsyncStorage vs SecureStore)
- [ ] 이미지 업로드 크기 제한 확인
- [ ] 에러 응답 형식 확인

---

## 📝 참고사항

### 이미지 처리
- 카메라/갤러리에서 선택한 이미지는 `expo-image-picker`로 처리
- 업로드 전 리사이징 권장 (성능 및 비용 최적화)

### 네비게이션
- Expo Router는 파일 기반 라우팅 사용
- `(tabs)` 폴더는 탭 네비게이션 그룹
- `href: null`로 설정하면 탭 바에 표시되지 않음

### 로고
- `assets/images/logo.png` 파일 사용
- 모든 헤더에서 동일한 로고 이미지 사용

---

## ✅ 체크리스트

### Phase 1: 상세 영양정보 그래프 수정 ⭐
- [ ] 레이더 차트 시각화 개선
- [ ] 차트 라이브러리 검토 및 선택
- [ ] 반응형 디자인 적용
- [ ] 데이터 시각화 다양화
- [ ] 접근성 개선

### Phase 2: iOS 배포 준비
- [ ] 앱 아이콘 및 스플래시 스크린
- [ ] 앱 정보 설정
- [ ] 권한 설정
- [ ] 빌드 설정
- [ ] 앱스토어 제출 준비
- [ ] 테스트 및 검증
- [ ] 빌드 및 제출 프로세스

### Phase 3: UI/UX 개선
- [ ] 결과 화면 개선
- [ ] 로딩 화면 개선
- [ ] 기록 화면 개선
- [ ] 마이페이지 개선

### Phase 4: 성능 최적화 및 접근성
- [ ] 성능 최적화
- [ ] 접근성 개선

---

## 📞 연락처

- **백엔드 개발자**: 상일
- **GPT 프롬프트 개발자**: 지우
- **프로젝트 관리자**: (필요 시 추가)

---

**문서 작성일**: 2025-11-21  
**최종 수정일**: 2025-11-21
